# Configurações da aplicação CEI Digital
 # - Variáveis de conexão com banco Postgres para ambiente local
 # - JPA com ddl-auto=update para criar/atualizar o schema automaticamente em desenvolvimento
spring:
  application:
    name: CEI Digital

  datasource:
    # URL do banco de dados; pode ser sobrescrita por variável de ambiente SPRING_DATASOURCE_URL
    url: ${SPRING_DATASOURCE_URL:jdbc:postgresql://localhost:5432/cei_db}
    # Credenciais padrão para uso local (ver docker-compose.yml)
    username: ${SPRING_DATASOURCE_USERNAME:ceiuser}
    password: ${SPRING_DATASOURCE_PASSWORD:ceipass}
    driver-class-name: org.postgresql.Driver

  jpa:
    hibernate:
      # Em produção, considere usar 'validate' e gerenciar migrações com Flyway/Liquibase
      ddl-auto: update
    show-sql: true

  # Internacionalização e localização
  messages:
    basename: messages
    encoding: UTF-8
  web:
    locale: pt_BR # fallback padrão
    locale-resolver: accept-header # usa o cabeçalho Accept-Language do cliente

security:
  jwt:
    # Chave secreta para assinar tokens JWT (mínimo ~32 bytes para HS256)
    secret: ${JWT_SECRET:change-this-secret-to-a-long-and-secure-value-32b-min}
    # Validade do token em segundos (ex.: 3600 = 1 hora)
    expiration: ${JWT_EXPIRATION:3600}
